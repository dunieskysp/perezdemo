fetch("./assets/data/perez-menu.json").then(e=>e.json()).then(e=>{const r=document.querySelector("#menu-container");e.forEach(e=>{var a=e.sectionID,n=document.createElement("div"),t=document.createElement("h2");const l=document.createElement("div");n.className=a+` ${a}__section`,t.className=a+"__heading",l.className=a+"__products",n.id=a,t.textContent=e.heading,e.products.forEach(e=>{var a=document.createElement("div"),n=document.createElement("div"),t=document.createElement("picture"),r=document.createElement("source"),c=document.createElement("source"),m=document.createElement("source"),o=document.createElement("img"),i=document.createElement("div"),s=document.createElement("h4"),d=document.createElement("h3"),u=document.createElement("span");a.className="product",n.className="product__img-container",o.className="product__img",i.className="product__info",s.className="product__name",d.className="product__price",u.className="product__price--small",e.big&&(a.className+=" product--big",n.className+=" product__img-container--big",i.className+=" product__info--big"),r.srcset=e.imgURL+".avif",r.type="image/avif",c.srcset=e.imgURL+".webp",c.type="image/webp",m.srcset=e.imgURL+".jpg",c.type="image/jpeg",o.src="./assets/images/placeholder-wide.svg",o.loading="lazy",o.alt=e.name,t.appendChild(r),t.appendChild(c),t.appendChild(o),n.appendChild(t),s.textContent=e.name,u.textContent="$",d.appendChild(u),d.appendChild(document.createTextNode(e.price)),i.appendChild(s),i.appendChild(d),a.appendChild(n),a.appendChild(i),l.appendChild(a)}),n.appendChild(t),n.appendChild(l),r.appendChild(n)})}).catch(e=>console.error("Error:",e));const navbar=document.querySelector(".navbar"),menuBar=document.querySelector(".navbar__bar"),menuIcono=document.querySelector(".hamburger-ico__checkbox"),menuHamburger=document.querySelector(".hamburger-menu"),menuItems=document.querySelectorAll(".hamburger-menu__item"),menuLinks=document.querySelectorAll(".hamburger-menu__link"),headerHeight=document.querySelector(".header").offsetHeight;let lastScrollPos=window.scrollY;const showMenuHamburger=()=>{menuBar.classList.toggle("navbar__bar--active"),menuHamburger.classList.toggle("hamburger-menu__active"),menuIcono.checked?menuItems.forEach(e=>e.classList.add("hamburger-menu__item--animation")):menuItems.forEach(e=>e.classList.remove("hamburger-menu__item--animation")),window.scrollY<window.innerHeight&&menuIcono.checked&&window.scrollTo({top:headerHeight})},hiddeMenuHamburger=()=>{menuBar.classList.remove("navbar__bar--active"),menuHamburger.classList.remove("hamburger-menu__active"),menuItems.forEach(e=>e.classList.remove("hamburger-menu__item--animation")),menuIcono.checked=!1},activeMenuLink=()=>{var e=document.querySelectorAll('[class$="__section"]');let t=window.scrollY;e.forEach(e=>{var a=e.offsetHeight,n=e.offsetTop-50;sectionId=e.getAttribute("id"),t>n&&t<=n+a?document.querySelector(".hamburger-menu__link[href*="+sectionId+"]").classList.add("hamburger-menu__link--active"):document.querySelector(".hamburger-menu__link[href*="+sectionId+"]").classList.remove("hamburger-menu__link--active")})},hiddenNavbar=()=>{var e=window.scrollY;e>lastScrollPos&&e>headerHeight?navbar.classList.add("navbar--hidden"):navbar.classList.remove("navbar--hidden"),lastScrollPos=e};menuIcono.addEventListener("click",showMenuHamburger),window.addEventListener("scroll",activeMenuLink),menuLinks.forEach(e=>e.addEventListener("click",e=>{hiddeMenuHamburger(),menuLinks.forEach(e=>e.classList.remove("hamburger-menu__link--active")),e.target.classList.add("hamburger-menu__link--active")})),window.addEventListener("click",e=>{!menuIcono.checked||menuHamburger.contains(e.target)||menuIcono.contains(e.target)||hiddeMenuHamburger()});