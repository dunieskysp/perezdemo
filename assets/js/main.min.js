document.addEventListener("DOMContentLoaded",()=>{fetch("./assets/data/perez-menu.json").then(e=>e.json()).then(e=>{var n=document.querySelector("#menu-container"),t=document.querySelector(".hamburger-menu__items");a(e.foods,n,t),a(e.drinks,n,t)}).catch(e=>console.error("Error:",e));const a=(e,i,d)=>{e.forEach(e=>{var n=e.sectionID,t=e.sectionName,a=e.icoURL,c=e.products||[],e=e.notes,r=document.createElement("section"),m=(r.className="menu-section menu-section--"+n,r.id=n,document.createElement("div")),o=(m.className="menu-section__heading",document.createElement("img")),a=(o.className="menu-section__ico menu-section__ico--"+n,o.src=a||"./assets/images/menu-ico/default-ico.svg",o.alt=t+" Ico",m.appendChild(o),document.createElement("h2")),o=(a.className="menu-section__title menu-section__title--"+n,a.textContent=t,m.appendChild(a),document.createElement("div"));if(o.className="menu-section__products menu-section__products--"+n,c.length<3&&"cocteleria"!==n&&(o.className+=" flex-content-center"),"cocteleria"===n?l(c,o,cocktail=!0):l(c,o),r.appendChild(m),r.appendChild(o),e){const s=document.createElement("div");s.className="notes notes__container",e.forEach(e=>{var n=document.createElement("p");n.className="notes__note",n.textContent="* "+e,s.appendChild(n)}),r.appendChild(s)}i.appendChild(r),u(n,t,d)})},l=(h,_,p=!1)=>{h.forEach(e=>{var n,t=e.imgURL,a=e.name,c=e.price,r=e.name_extra,m=e.description,e=e.big,o=p?"drink":"product",s=document.createElement("div"),i=(s.className=o,document.createElement("div")),t=(i.className=o+"__img-container",t&&(u=document.createElement("picture"),(d=document.createElement("source")).srcset=t+".avif",d.type="image/avif",(n=document.createElement("source")).srcset=t+".webp",n.type="image/webp",(l=document.createElement("img")).className=o+"__img",l.src=t+".jpg",l.loading="lazy",l.alt=a,u.appendChild(d),u.appendChild(n),u.appendChild(l),i.appendChild(u)),document.createElement("div")),d=(t.className=o+"__info",document.createElement("h4")),l=(d.className=o+"__name",d.textContent=a,r&&((n=document.createElement("span")).className=o+"__name--extra",n.textContent=` (${r})`,d.appendChild(n)),document.createElement("h3")),u=(l.className=o+"__price",document.createElement("span"));u.className=o+"__price--small",u.textContent="$",l.appendChild(u),l.appendChild(document.createTextNode(c)),t.appendChild(d),p&&((a=document.createElement("p")).className=o+"__description",a.textContent=m,t.appendChild(a)),t.appendChild(l),!e&&1!==h.length||(s.className+=` ${o}--big`,i.className+=` ${o}__img-container--big`,t.className+=` ${o}__info--big`),s.appendChild(i),s.appendChild(t),_.appendChild(s)})},u=(e,n,t)=>{var a=document.createElement("li"),c=(a.className="hamburger-menu__item",document.createElement("a"));c.className="hamburger-menu__link",c.href="#"+e,c.textContent=n,c.addEventListener("click",navToSection),a.appendChild(c),t.appendChild(a)}});const navbar=document.querySelector(".navbar"),menuBar=document.querySelector(".navbar__bar"),menuIcono=document.querySelector(".hamburger-ico__checkbox"),menuHamburger=document.querySelector(".hamburger-menu"),menuItems=document.getElementsByClassName("hamburger-menu__item"),menuLinks=document.getElementsByClassName("hamburger-menu__link"),headerHeight=document.querySelector(".header").offsetHeight;let lastScrollPos=window.scrollY;const showMenuHamburger=()=>{menuBar.classList.toggle("navbar__bar--active"),menuHamburger.classList.toggle("hamburger-menu__active"),menuIcono.checked?Array.from(menuItems).forEach(e=>e.classList.add("hamburger-menu__item--animation")):Array.from(menuItems).forEach(e=>e.classList.remove("hamburger-menu__item--animation")),window.scrollY<window.innerHeight&&menuIcono.checked&&window.scrollTo({top:headerHeight})},activeMenuLink=(menuIcono.addEventListener("click",showMenuHamburger),()=>{var e=document.querySelectorAll(".menu-section");let a=window.scrollY;e.forEach(e=>{var n=e.offsetHeight,t=e.offsetTop-50,e=e.getAttribute("id");a>t&&a<=t+n?document.querySelector(".hamburger-menu__link[href*="+e+"]").classList.add("hamburger-menu__link--active"):document.querySelector(".hamburger-menu__link[href*="+e+"]").classList.remove("hamburger-menu__link--active")})}),closeHamburgerMenu=(window.addEventListener("scroll",activeMenuLink),e=>{!menuIcono.checked||menuHamburger.contains(e.target)||menuIcono.contains(e.target)||hiddeMenuHamburger()}),navToSection=(window.addEventListener("click",closeHamburgerMenu),e=>{e.preventDefault();e=e.target.getAttribute("href"),e=document.querySelector(e).offsetTop;window.scrollTo({top:e-20}),hiddeMenuHamburger()}),hiddeMenuHamburger=()=>{menuBar.classList.remove("navbar__bar--active"),menuHamburger.classList.remove("hamburger-menu__active"),Array.from(menuItems).forEach(e=>e.classList.remove("hamburger-menu__item--animation")),menuIcono.checked=!1},hiddenNavbar=()=>{var e=window.scrollY;e>lastScrollPos&&e>headerHeight?navbar.classList.add("navbar--hidden"):navbar.classList.remove("navbar--hidden"),lastScrollPos=e};