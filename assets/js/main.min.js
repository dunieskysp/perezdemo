fetch("./assets/data/perez-menu.json").then(e=>e.json()).then(e=>{var t=document.querySelector("#menu-container");createSectionsFoods(e.foods,t),createSectionsFoods(e.drinks,t)}).catch(e=>console.error("Error:",e));const createSectionsFoods=(e,m)=>{e.forEach(e=>{var t=e.sectionID,n=e.sectionName,a=e.products,e=e.notes||"",r=document.createElement("section"),c=(r.className=t+` ${t}__section`,r.id=t,document.createElement("h2")),n=(c.className=t+"__heading",c.textContent=n,document.createElement("div"));if(n.className=t+"__products",createProducts(a,n),r.appendChild(c),r.appendChild(n),e){const o=document.createElement("div");o.className="notes notes__container",e.forEach(e=>{var t=document.createElement("p");t.className="notes__note",t.textContent="* "+e,o.appendChild(t)}),r.appendChild(o)}m.appendChild(r)})},createProducts=(e,u)=>{e.forEach(e=>{var t=e.imgURL,n=e.name,a=e.price,r=e.name_extra||"",e=e.big||!1,c=document.createElement("div"),o=(c.className="product",document.createElement("div")),m=(o.className="product__img-container",document.createElement("picture")),s=document.createElement("source"),d=(s.srcset=t+".avif",s.type="image/avif",document.createElement("source")),i=(d.srcset=t+".webp",d.type="image/webp",document.createElement("source")),t=(i.srcset=t+".jpg",d.type="image/jpeg",document.createElement("img")),s=(t.className="product__img",t.src="./assets/images/placeholder-wide.svg",t.loading="lazy",t.alt=n,m.appendChild(s),m.appendChild(d),m.appendChild(i),m.appendChild(t),o.appendChild(m),document.createElement("div")),d=(s.className="product__info",document.createElement("h4")),t=(d.className="product__name",d.textContent=n,r&&((i=document.createElement("span")).className="product__name--extra",i.textContent=` (${r})`,d.appendChild(i)),document.createElement("h3")),m=(t.className="product__price",document.createElement("span"));m.className="product__price--small",m.textContent="$",t.appendChild(m),t.appendChild(document.createTextNode(a)),s.appendChild(d),s.appendChild(t),e&&(c.className+=" product--big",o.className+=" product__img-container--big",s.className+=" product__info--big"),c.appendChild(o),c.appendChild(s),u.appendChild(c)})},navbar=document.querySelector(".navbar"),menuBar=document.querySelector(".navbar__bar"),menuIcono=document.querySelector(".hamburger-ico__checkbox"),menuHamburger=document.querySelector(".hamburger-menu"),menuItems=document.querySelectorAll(".hamburger-menu__item"),menuLinks=document.querySelectorAll(".hamburger-menu__link"),headerHeight=document.querySelector(".header").offsetHeight;let lastScrollPos=window.scrollY;const showMenuHamburger=()=>{menuBar.classList.toggle("navbar__bar--active"),menuHamburger.classList.toggle("hamburger-menu__active"),menuIcono.checked?menuItems.forEach(e=>e.classList.add("hamburger-menu__item--animation")):menuItems.forEach(e=>e.classList.remove("hamburger-menu__item--animation")),window.scrollY<window.innerHeight&&menuIcono.checked&&window.scrollTo({top:headerHeight})},hiddeMenuHamburger=()=>{menuBar.classList.remove("navbar__bar--active"),menuHamburger.classList.remove("hamburger-menu__active"),menuItems.forEach(e=>e.classList.remove("hamburger-menu__item--animation")),menuIcono.checked=!1},activeMenuLink=()=>{var e=document.querySelectorAll('[class$="__section"]');let a=window.scrollY;e.forEach(e=>{var t=e.offsetHeight,n=e.offsetTop-50;sectionId=e.getAttribute("id"),a>n&&a<=n+t?document.querySelector(".hamburger-menu__link[href*="+sectionId+"]").classList.add("hamburger-menu__link--active"):document.querySelector(".hamburger-menu__link[href*="+sectionId+"]").classList.remove("hamburger-menu__link--active")})},hiddenNavbar=()=>{var e=window.scrollY;e>lastScrollPos&&e>headerHeight?navbar.classList.add("navbar--hidden"):navbar.classList.remove("navbar--hidden"),lastScrollPos=e};menuIcono.addEventListener("click",showMenuHamburger),window.addEventListener("scroll",activeMenuLink),menuLinks.forEach(e=>e.addEventListener("click",e=>{hiddeMenuHamburger(),menuLinks.forEach(e=>e.classList.remove("hamburger-menu__link--active")),e.target.classList.add("hamburger-menu__link--active")})),window.addEventListener("click",e=>{!menuIcono.checked||menuHamburger.contains(e.target)||menuIcono.contains(e.target)||hiddeMenuHamburger()});